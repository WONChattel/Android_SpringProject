<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.green.mvc08.dao.RecipeSearchDao">


<select id="selectRecipeByParts"  parameterType="java.util.HashMap" resultType="RecipeVO">
    select * from Recipe_Db where 
        <foreach collection="forSearchList" item="rcp_dtl_part" open=" " separator="and">
           REGEXP_LIKE (RCP_PARTS_DTLS , '(' || #{rcp_dtl_part} || ')') 
         </foreach>
</select>
<!-- Select * From Recipe_Db Where Regexp_Like (Rcp_Parts_Dtls , '(' || '마늘' || ')') And 
           REGEXP_LIKE (RCP_PARTS_DTLS , '(' || '소고기' || ')'); -->
	
	<select id="recipeSearchByName" parameterType="String" resultType="RecipeVO">
		select * from Recipe_Db where RCP_NM like  '%' ||  #{forSearchString} || '%'
	</select>

</mapper>